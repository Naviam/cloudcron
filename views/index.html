<!DOCTYPE html>
<html>
<head>
  <base href='http://localhost:3000/' />
  <link href='/bower/bootstrap/dist/css/bootstrap.css' rel='stylesheet' />
  <link href='/bower/bootcards/dist/css/bootcards-desktop.min.css' rel='stylesheet'>
  <link href='/css/application.css' rel='stylesheet' />
  <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <script src='/bower/jquery/dist/jquery.js'></script>
  <script src='/bower/bootstrap/dist/js/bootstrap.js'></script>
  <script src='/bower/handlebars/handlebars.js'></script>
  <script src='/bower/ember/ember.js'></script>
  <script src='/bower/ember-data/ember-data.js'></script>
  <script src='/bower/userapp/userapp.client.js'></script>
  <script src='/bower/userapp-ember/ember-userapp.js'></script>
  <script src='/bower/socket.io-client/dist/socket.io.js'></script>
  <script src='/npm/ember-sockets/dist/ember-sockets.min.js'></script>
  <script src='/js/ember-app.js'></script>
</head>
<body>
  <script type='text/x-handlebars' data-template-name='application'>
    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <button type="button" class="btn btn-default btn-back pull-left hidden" onclick="history.back()">
          <i class="fa fa-lg fa-chevron-left"></i>
          <span>Back</span>
        </button>
        <button type="button" class="btn btn-default btn-menu pull-left offcanvas-toggle">
          <i class="fa fa-lg fa-bars"></i>
          <span>Menu</span>
        </button>
        {{#link-to 'index' class='navbar-brand'}}CloudCron{{/link-to}}
        <div class="navbar-collapse collapse pull-right">
          <ul class="nav navbar-nav">
            <li>{{#link-to 'index'}}Jobs{{/link-to}}</li>
            <li>{{#link-to 'calendar'}}Calendar{{/link-to}}</li>
            <li>
              {{#if user.authenticated}}
                  <a href="#" {{ action 'logout' }}>Log out</a>
              {{/if}}
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class='container'>
      {{outlet}}
    </div>
    <footer class='container'>
      <hr />
      <p class='pull-left'>&copy; 2014 CloudCron, Inc.</p>
    </footer>
  </script>
  <script type="text/x-handlebars" data-template-name="login">
    <form {{action login on='submit'}}>
        <label for="username">Username</label>
        {{input id='username' placeholder='Enter Username' class='form-control' value=username}}
        <label for="password">Password</label>
        {{input id='password' placeholder='Enter Password' class='form-control' type='password' value=password}}
        <button type="submit" class="btn btn-default">
          {{#if loading}}
              <img src="https://app.userapp.io/img/ajax-loader-transparent.gif">
          {{else}}
              Log In
          {{/if}}
        </button>
    </form>
    <a href="#" {{ action 'oauth' 'google' }}>Log in with Google</a>
    {{#if error}}
        <div class="alert alert-error">{{error.message}}</div>
    {{/if}}
  </script>
  <script type="text/x-handlebars" data-template-name="signup">
    <form {{action signup on='submit'}}>
        <label for="username">Username</label>
        {{input id='username' placeholder='Enter a Username' class='form-control' value=username}}
        <label for="email">Email</label>
        {{input id='email' placeholder='Enter your Email' class='form-control' value=email}}
        <label for="password">Password</label>
        {{input id='password' placeholder='Enter a Password' class='form-control' type='password' value=password}}
        <button type="submit" class="btn btn-default">Sign up</button>
    </form>
    {{#if error}}
        <div class="alert alert-error">{{error.message}}</div>
    {{/if}}
  </script>
  <script type='text/x-handlebars' data-template-name='calendar'>
    <h1>Calendar!</h1>
    <p>This site would not be possible without the hardworking Ember Core Team!</p>
  </script>
  <script type='text/x-handlebars' data-template-name='jobs'>
    <div class="row">
        <div class="col-sm-4 bootcards-list">
        
            <div class="panel panel-default">
              <div class="panel-body">
                <form>
                  <div class="row">
                    <div class="col-xs-9">
                      <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search by name or tag...">
                        <i class="fa fa-search"></i>
                      </div>
                    </div>
                    <div class="col-xs-3">
                      <button {{action 'createJob'}} class='btn btn-success btn-block'><i class="fa fa-plus"></i> Job</button>
                    </div>
                  </div>
                </form>
              </div>
              <div class="list-group">
                {{#each}}
                  {{#link-to 'job' this class="list-group-item"}}
                    <h4 class="list-group-item-heading">{{title}}</h4>
                    <p class="list-group-item-text">{{rrule}}</p>
                  {{/link-to}}
                {{/each}}
              </div>
            </div>
          
        </div>
        <div class="col-sm-8 bootcards-cards">
        
          {{outlet}}
          
        </div>
      </div>
  </script>
  <script type='text/x-handlebars' data-template-name='jobs/index'>
        <h1>Welcome {{user.current.first_name}}!</h1>
        <div class="panel panel-default bootcards-summary">
          <div class="panel-heading">
            <h3 class="panel-title">Jobs Summary (Today)</h3>
          </div>
          <div class="panel-body">
            <div class="row">
              <div class="col-xs-6 col-sm-4">
                <a class="bootcards-summary-item" href="#">
                  <i class="fa fa-3x fa-users"></i>
                  <h1>432 <span>Tasks executed</span></h1>
                </a>
              </div>
              <div class="col-xs-6 col-sm-4">
                <a class="bootcards-summary-item" href="#">
                  <i class="fa fa-3x fa-building-o"></i>
                  <h1>98 <span>Jobs executed</span></h1>
                </a>
              </div>
              <div class="col-xs-6 col-sm-4">
                <a class="bootcards-summary-item" href="#">
                  <i class="fa fa-3x fa-clipboard"></i>
                  <h1>54 <span>Minutes ran</span></h1>
                </a>
              </div>
              <div class="col-xs-6 col-sm-4">
                <a class="bootcards-summary-item" href="#">
                  <i class="fa fa-3x fa-bar-chart-o"></i>
                  <h1>21 <span>Errors</span></h1>
                </a>
              </div>
              <div class="col-xs-6 col-sm-4">
                <a class="bootcards-summary-item" href="#">
                  <i class="fa fa-3x fa-files-o"></i>
                  <h1>65 <span>Files Generated</span></h1>
                </a>
              </div>
              <div class="col-xs-6 col-sm-4">
                <a class="bootcards-summary-item" href="#">
                  <i class="fa fa-3x fa-check-square-o"></i>
                  <h1>109 <span>Email notification sent</span></h1>
                </a>
              </div>      
            </div>
          </div>
          <div class="panel-footer">
            <small>Please select a job to see job details.</small>
          </div>
        </div>

  </script>
  <script type='text/x-handlebars' data-template-name='job'>

        <div class="panel panel-default">
          <div class="panel-heading clearfix">
            <h3 class="panel-title pull-left">{{title}} Details</h3>
              <a class="btn btn-default pull-right" href="#">
                <i class="fa fa-check"></i>
                Edit
              </a>
          </div>
            <div class="list-group">
              <div class="list-group-item">
                <p class="list-group-item-text">Name</p>
                <h4 class="list-group-item-heading">{{title}}</h4>
              </div>
              <div class="list-group-item">
                <p class="list-group-item-text">Recurrence Rule</p>
                <h4 class="list-group-item-heading">{{rrule}}</h4>
              </div>
              <div class="list-group-item">
                <p class="list-group-item-text">Last run</p>
                <h4 class="list-group-item-heading">{{lastRun}}</h4>
              </div>
              <div class="list-group-item">
                <p class="list-group-item-text">Next run</p>
                <h4 class="list-group-item-heading">{{nextRun}}</h4>
              </div>
            </div>
          <div class="panel-footer">
            <small>Created on {{createdDate}}</small>
          </div>
        </div>

  </script>
</body>
</html>